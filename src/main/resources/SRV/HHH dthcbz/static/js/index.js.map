{"version":3,"sources":["index.js"],"names":["init","myMap","ymaps","Map","center","zoom","searchControlProvider","info","count","i","j","setTimeout","x","y","route","points","then","getPaths","getLength","way","get","X","Y","TimeProb","getHumanJamsTime","TimeProbSec","getJamsTime","Time","getHumanTime","TimeSec","getTime","WayLen","getHumanLength","WayLenMetr","path","segments","getSegments","length","seg","getCoordinates","shift","push","JSON","stringify","console","fetch","method","headers","body","error","message"],"mappings":"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","sourcesContent":["// ymaps.ready(init);\n\nfunction init() {\n\tvar myMap = new ymaps.Map(\"map\", {\n\t\tcenter: [55.745508, 37.435225],\n\t\tzoom: 13\n\t}, {\n\t\tsearchControlProvider: 'yandex#search'\n\t})\n\n\t// let line = []\n\t// points.forEach((p) => {\n\tvar info = {}\n\tvar count = 1000\n\n\tfor (let i = 0; i < 41; i++) {\n\t\tfor (let j = 0; j < 41; j++) {\n\t\t\tif (j > i )\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet x = i \n\t\t\t\tlet y = j \n\t\t\t\tymaps.route([\n\t\t\t\t\t[points[x][0], points[x][1]],\n\t\t\t\t\t[points[y][0], points[y][1]],\n\t\t\t\t]).then(function (route) {\n\t\t\t\t\t// myMap.geoObjects.add(route);\n\n\t\t\t\t\tfor (var i = 0; i < route.getPaths().getLength(); i++) {\n\t\t\t\t\t\tlet way = route.getPaths().get(i);\n\t\t\t\t\t\tinfo = {\n\t\t\t\t\t\t\tX: x,\n\t\t\t\t\t\t\tY: y,\n\t\t\t\t\t\t\tTimeProb: way.getHumanJamsTime(),\n\t\t\t\t\t\t\tTimeProbSec: way.getJamsTime() | 0,\n\t\t\t\t\t\t\tTime: way.getHumanTime(),\n\t\t\t\t\t\t\tTimeSec: (way.getTime() / 60) | 0,\n\t\t\t\t\t\t\tWayLen: way.getHumanLength(),\n\t\t\t\t\t\t\tWayLenMetr: way.getLength() | 0,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet path = []\n\t\t\t\t\t\tvar segments = way.getSegments();\n\t\t\t\t\t\t// console.log(segments)\n\t\t\t\t\t\tfor (var j = 0; j < segments.length; j++) {\n\t\t\t\t\t\t\t// console.log('segmenr: ', j, segments[j].getCoordinates());\n\t\t\t\t\t\t\tlet seg = segments[j].getCoordinates()\n\t\t\t\t\t\t\tseg.shift()\n\t\t\t\t\t\t\t// path.push(seg[seg.length/2|0])\n\t\t\t\t\t\t\tpath.push(...seg)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinfo['Way'] = JSON.stringify(path)\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.count('fetch')\n\t\t\t\t\tfetch('/path', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(info)\n\t\t\t\t\t})\n\n\t\t\t\t}, function (error) {\n\t\t\t\t\tconsole.error('Er ошибка: ' + error.message);\n\t\t\t\t});\n\t\t\t}, count)\n\t\t}\n\t\tcount += 5000\n\t}\n\n\n\t// \tline.push(out)\n\t// });\n\t// main.push(line)\n\n\n}\n\n\n\n\t\t\t// var points = route.getWayPoints(),\n\t\t\t// \tlastPoint = points.getLength() - 1;"],"file":"index.js"}