{"version":3,"sources":["color-hash.js"],"names":["f","exports","module","define","amd","g","window","global","self","ColorHash","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","BKDRHash","str","seed","seed2","hash","MAX_SAFE_INTEGER","parseInt","charCodeAt","RGB2HEX","RGBArray","hex","forEach","value","toString","HSL2RGB","H","S","L","q","p","map","color","Math","round","isArray","Object","prototype","options","LS","lightness","saturation","param","concat","hue","min","max","hueRanges","range","hsl","hueResolution","rgb","apply"],"mappings":"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","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ColorHash = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\n * BKDR Hash (modified version)\n *\n * @param {String} str string to hash\n * @returns {Number}\n */\nvar BKDRHash = function(str) {\n    var seed = 131;\n    var seed2 = 137;\n    var hash = 0;\n    // make hash more sensitive for short string like 'a', 'b', 'c'\n    str += 'x';\n    // Note: Number.MAX_SAFE_INTEGER equals 9007199254740991\n    var MAX_SAFE_INTEGER = parseInt(9007199254740991 / seed2);\n    for(var i = 0; i < str.length; i++) {\n        if(hash > MAX_SAFE_INTEGER) {\n            hash = parseInt(hash / seed2);\n        }\n        hash = hash * seed + str.charCodeAt(i);\n    }\n    return hash;\n};\n\nmodule.exports = BKDRHash;\n\n},{}],2:[function(require,module,exports){\nvar BKDRHash = require('./bkdr-hash');\n\n/**\n * Convert RGB Array to HEX\n *\n * @param {Array} RGBArray - [R, G, B]\n * @returns {String} 6 digits hex starting with #\n */\nvar RGB2HEX = function(RGBArray) {\n    var hex = '#';\n    RGBArray.forEach(function(value) {\n        if (value < 16) {\n            hex += 0;\n        }\n        hex += value.toString(16);\n    });\n    return hex;\n};\n\n/**\n * Convert HSL to RGB\n *\n * @see {@link http://zh.wikipedia.org/wiki/HSL和HSV色彩空间} for further information.\n * @param {Number} H Hue ∈ [0, 360)\n * @param {Number} S Saturation ∈ [0, 1]\n * @param {Number} L Lightness ∈ [0, 1]\n * @returns {Array} R, G, B ∈ [0, 255]\n */\nvar HSL2RGB = function(H, S, L) {\n    H /= 360;\n\n    var q = L < 0.5 ? L * (1 + S) : L + S - L * S;\n    var p = 2 * L - q;\n\n    return [H + 1/3, H, H - 1/3].map(function(color) {\n        if(color < 0) {\n            color++;\n        }\n        if(color > 1) {\n            color--;\n        }\n        if(color < 1/6) {\n            color = p + (q - p) * 6 * color;\n        } else if(color < 0.5) {\n            color = q;\n        } else if(color < 2/3) {\n            color = p + (q - p) * 6 * (2/3 - color);\n        } else {\n            color = p;\n        }\n        return Math.round(color * 255);\n    });\n};\n\nfunction isArray(o) {\n    return Object.prototype.toString.call(o) === '[object Array]';\n}\n\n/**\n * Color Hash Class\n *\n * @class\n */\nvar ColorHash = function(options) {\n    options = options || {};\n\n    var LS = [options.lightness, options.saturation].map(function(param) {\n        param = param || [0.35, 0.5, 0.65]; // note that 3 is a prime\n        return isArray(param) ? param.concat() : [param];\n    });\n\n    this.L = LS[0];\n    this.S = LS[1];\n\n    if (typeof options.hue === 'number') {\n        options.hue = {min: options.hue, max: options.hue};\n    }\n    if (typeof options.hue === 'object' && !isArray(options.hue)) {\n        options.hue = [options.hue];\n    }\n    if (typeof options.hue === 'undefined') {\n        options.hue = [];\n    }\n    this.hueRanges = options.hue.map(function (range) {\n        return {\n            min: typeof range.min === 'undefined' ? 0 : range.min,\n            max: typeof range.max === 'undefined' ? 360: range.max\n        };\n    });\n\n    this.hash = options.hash || BKDRHash;\n};\n\n/**\n * Returns the hash in [h, s, l].\n * Note that H ∈ [0, 360); S ∈ [0, 1]; L ∈ [0, 1];\n *\n * @param {String} str string to hash\n * @returns {Array} [h, s, l]\n */\nColorHash.prototype.hsl = function(str) {\n    var H, S, L;\n    var hash = this.hash(str);\n\n    if (this.hueRanges.length) {\n        var range = this.hueRanges[hash % this.hueRanges.length];\n        var hueResolution = 727; // note that 727 is a prime\n        H = ((hash / this.hueRanges.length) % hueResolution) * (range.max - range.min) / hueResolution + range.min;\n    } else {\n        H = hash % 359; // note that 359 is a prime\n    }\n    hash = parseInt(hash / 360);\n    S = this.S[hash % this.S.length];\n    hash = parseInt(hash / this.S.length);\n    L = this.L[hash % this.L.length];\n\n    return [H, S, L];\n};\n\n/**\n * Returns the hash in [r, g, b].\n * Note that R, G, B ∈ [0, 255]\n *\n * @param {String} str string to hash\n * @returns {Array} [r, g, b]\n */\nColorHash.prototype.rgb = function(str) {\n    var hsl = this.hsl(str);\n    return HSL2RGB.apply(this, hsl);\n};\n\n/**\n * Returns the hash in hex\n *\n * @param {String} str string to hash\n * @returns {String} hex with #\n */\nColorHash.prototype.hex = function(str) {\n    var rgb = this.rgb(str);\n    return RGB2HEX(rgb);\n};\n\nmodule.exports = ColorHash;\n\n},{\"./bkdr-hash\":1}]},{},[2])(2)\n});"],"file":"color-hash.js"}